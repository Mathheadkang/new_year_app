<!--index.wxml-->
<view class="container">
  <view class="header">
    <text class="title">🧧 春联生成器</text>
    <text class="subtitle">AI 为你生成专属春联</text>
  </view>

  <view class="form">
    <view class="input-wrapper">
      <text class="label">输入姓名（1-4个字）</text>
      <input 
        class="name-input" 
        placeholder="请输入姓名" 
        value="{{name}}"
        bindinput="onNameInput"
        bindconfirm="onNameConfirm"
      />
      <view class="limit-hint">
        <text class="limit-text">今日剩余次数：{{remainingCount}}/5</text>
      </view>
    </view>

    <view class="position-wrapper">
      <text class="label">藏字方式</text>
      <view class="position-buttons">
        <view 
          wx:for="{{positions}}" 
          wx:key="value"
          class="position-btn {{position === item.value ? 'active' : ''}}"
          bindtap="selectPosition"
          data-position="{{item.value}}"
        >
          <text class="position-label">{{item.label}}</text>
          <text class="position-desc">{{item.desc}}</text>
        </view>
      </view>
    </view>

    <button 
      class="generate-btn" 
      bindtap="generateCouplet"
      loading="{{loading}}"
      disabled="{{loading}}"
    >
      {{loading ? '生成中...' : '生成春联'}}
    </button>
  </view>

  <view class="history-btn-wrapper">
    <button class="history-btn" bindtap="goToHistory">查看历史</button>
  </view>
</view>
